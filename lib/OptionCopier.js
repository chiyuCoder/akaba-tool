!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.AkabaTool=o():t.AkabaTool=o()}(this,(function(){return function(){"use strict";var t={};return function(){var o=t;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(o,"__esModule",{value:!0}),o.optionCopier=o.OptionCopier=void 0;var r=function(){function t(){this.copyIdMap=new Map,this.copyIdSet=new Set,this.addressReferTypeList=[Map,Set]}return t.prototype.generateCopyId=function(){var t=Date.now().toString(32)+"#"+Math.random();return this.copyIdSet.has(t)?this.generateCopyId():(this.copyIdSet.add(t),t)},t.prototype.copyOptionAsArray=function(t,o){var e=this;return o||(o=this.generateCopyId()),Array.from(t).map((function(t){return e.copyOption(t,o)}))},t.prototype.copyOption=function(t,o){o||(o=this.generateCopyId());var r=this.copyIdMap.get(o);return r||(r=[],this.copyIdMap.set(o,r)),t&&"object"===e(t)?this.addressReferTypeList.find((function(o){return t instanceof o}))||r.indexOf(t)>=0?t:(r.push(t),this.copyOptionAsObj(t,o)):t},t.prototype.copyOptionAsObj=function(t,o){if(!o){o=this.generateCopyId();var e=[t];this.copyIdMap.set(o,e)}if(t instanceof Array)return this.copyOption(t,o);var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=this.copyOption(t[n],o));return r},t.prototype.mixedOpt=function(t,o){if(!t)return o;if(o instanceof Array)return o;if("object"===e(o)){if("object"===e(t)){var r=t;for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=this.mixedOpt(t[n],o[n]));return r}return o}return o},t.prototype.jsonCopy=function(t){return JSON.parse(JSON.stringify(t))},t.prototype.mixedOptAndCopyResult=function(t,o,r){if(!t)return o;if(o instanceof Array)return this.copyOptionAsArray(o);if("object"===e(o)){if("object"===e(t)){if(!r){r=this.generateCopyId();var n=[t,o];this.copyIdMap.set(r,n)}var i=this.copyOptionAsObj(t,r);for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(i[p]=this.mixedOptAndCopyResult(t[p],o[p],r));return i}return this.copyOptionAsObj(o,r)}return this.copyOption(o,r)},t}();o.OptionCopier=r,o.optionCopier=new r}(),t}()}));